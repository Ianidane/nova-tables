!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=23)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["value","pageCount","showJumps","showPages"],data:function(){return{page:this.value}},computed:{pages:function(){var e,t=parseInt(this.page)-3,n=parseInt(this.page)+3;t<1&&(t+=e=1-t,n+=e);n>this.pageCount&&(t-=e=n-this.pageCount,n-=e);t<1&&(t=1);for(var i=[],s=t;s<=n;s++)i.push(s);return i}},watch:{value:function(){this.page=parseInt(this.value)}},methods:{classFor:function(e){return"previous"===e&&1==this.page?"disabled":"next"===e&&this.page==this.pageCount?"disabled":e==this.page?"active":""},isDisabled:function(e){return"previous"===e&&1==this.page||"next"===e&&this.page==this.pageCount},setPage:function(e){"next"===e?e=this.page+1:"previous"===e?e=this.page-1:"first"===e?e=1:"last"===e&&(e=this.pageCount),this.$emit("input",e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(7)),s=c(n(3)),a=c(n(17)),r=c(n(15)),o=c(n(14)),l=c(n(13)),u=c(n(11));function c(e){return e&&e.__esModule?e:{default:e}}t.default={AbstractSource:s.default,ArraySource:a.default,NovaPageSelect:o.default,ServerSideSource:u.default,components:{NovaPageSelect:o.default},props:{items:null,endpoint:null,endpointParams:null,columns:null,searchable:null,adjustableColumns:null,sortable:null,defaultSortField:null,csvExportable:null,defaultActiveFields:null,alwaysActiveFields:null,itemSource:null,pageLength:null,pageLengthOptions:null,footer:null,defaultSortOrders:null,name:null,keyField:null,tableClass:null,rowClass:null,skipCsvCache:null,showPages:{required:!1,default:!0},showJumps:{required:!1,defaut:!1},paginationSyntax:null,csvBtnSmall:{required:!1,defaut:!1}},data:function(){return{activeFields:[],sortField:"",sortOrder:"A",search:"",source:new a.default([]),pagedItems:[],response:null,totalCount:0,pageCount:1,page:1,pageLengthSelection:null,loading:!1,showError:!1,blockRefresh:!0,initialQueryParams:{},generatedItemKeys:{},csvData:[],queryParamSaver:this.name?new l.default(this.name):null,paginationSyntaxDefaults:{prefix:"Showing ",suffix:" entries",itemsSeparator:" to ",totalSeparator:" of ",pageLengthPrefix:"Show ",pageLengthSuffix:" entries | "}}},mounted:function(){var e=this;this.$nextTick(function(){if(e.itemSource)e.source=e.itemSource;else if(e.items)e.source=new a.default(e.items);else{if(!e.endpoint)throw new Error("No item-source specified");e.source=new u.default(e.endpoint,e.$http),e.source.addParamMerger(function(t){e.endpointParams&&i.default.merge(t,e.endpointParams)})}e.pageLengthSelection=e.pageLength,e.source.setPage(e.page,e.pageLengthSelection),e.source.onChange(function(){return e.refreshSource()}),e.getCookies("fields")?e.activeFields=e.getActiveFieldsFromCookies():e.activeFields=e.defaultActiveFields||Object.keys(e.columns),e.defaultSortField?e.sortField=e.defaultSortField:e.sortField=e.activeFields[0],e.defaultSortOrders&&e.defaultSortOrders[e.sortField]&&(e.sortOrder=e.defaultSortOrders[e.sortField]),e.initialQueryParams=e.queryParamsToSave,e.applyQueryParams(),e.$nextTick(function(){e.blockRefresh=!1,e.refreshSource()})})},watch:{search:i.default.debounce(function(){this.source.setSearch(this.search,this.activeFields)},350),activeFields:function(){this.storeActiveFieldsToCookies(),this.source.setSearch(this.search,this.activeFields)},sortField:function(){this.source.setSort(this.sortField,this.sortOrder)},sortOrder:function(){this.source.setSort(this.sortField,this.sortOrder)},page:function(){this.source.setPage(this.computedPage,this.computedPageLength)},pageLengthSelection:function(){this.source.setPage(this.computedPage,this.computedPageLength)},endpointParams:function(){this.source.fireChangeEvent()},queryParamsToSave:function(){this.queryParamSaver&&this.queryParamSaver.set(this.queryParamsToSave)},items:function(){var e=this;this.source instanceof a.default&&(this.source=new a.default(this.items),this.source.setPage(this.computedPage,this.computedPageLength),this.source.setSort(this.sortField,this.sortOrder),this.source.onChange(function(){return e.refreshSource()}),this.refreshSource())}},computed:{computedPage:function(){return"All"===this.pageLengthSelection?null:this.page},computedPageLength:function(){return"All"===this.pageLengthSelection?null:this.pageLengthSelection},pageLengthPrefix:function(){return this.paginationSyntax&&this.paginationSyntax.pageLengthPrefix?this.paginationSyntax.pageLengthPrefix:this.paginationSyntaxDefaults.pageLengthPrefix},pageLengthSuffix:function(){return this.paginationSyntax&&this.paginationSyntax.pageLengthSuffix?this.paginationSyntax.pageLengthSuffix:this.paginationSyntaxDefaults.pageLengthSuffix},pageDescriptor:function(){var e=this.paginationSyntax&&this.paginationSyntax?this.paginationSyntax.prefix:this.paginationSyntaxDefaults.prefix,t=this.paginationSyntax&&this.paginationSyntax.suffix?this.paginationSyntax.suffix:this.paginationSyntaxDefaults.suffix,n=this.paginationSyntax&&this.paginationSyntax.itemsSeparator?this.paginationSyntax.itemsSeparator:this.paginationSyntaxDefaults.itemsSeparator,i=this.paginationSyntax&&this.paginationSyntax.totalSeparator?this.paginationSyntax.totalSeparator:this.paginationSyntaxDefaults.totalSeparator;if("All"==this.pageLengthSelection)return e+this.totalCount+t;var s=(this.page-1)*this.pageLengthSelection+1,a=s+this.pageLengthSelection-1;return s<0&&(s=1),a<s&&(a=s),a>this.totalCount&&(a=this.totalCount),0===this.totalCount?"0"+t:e+s+(s===a?"":n+a)+i+this.totalCount+t},activeColumns:function(){var e=this,t={};return Object.keys(this.columns).map(function(n){i.default.includes(e.activeFields,n)&&(t[n]=e.columns[n])}),t},csvColumns:function(){return i.default.values(this.activeColumns)},pages:function(){var e,t=parseInt(this.page)-3,n=parseInt(this.page)+3;t<1&&(t+=e=1-t,n+=e);n>this.pageCount&&(t-=e=n-this.pageCount,n-=e);t<1&&(t=1);for(var i=[],s=t;s<=n;s++)i.push(s);return i},queryParamsToSave:function(){var e={sort_field:this.sortField,sort_order:this.sortOrder,search:this.search,page:this.page,page_length:this.pageLengthSelection};for(var t in this.endpointParams&&i.default.merge(e,this.endpointParams),e)e[t]==this.initialQueryParams[t]&&delete e[t];return e},savingToCookies:function(){return Boolean(this.name)}},methods:{formatCSVRow:function(e){return e.map(function(e){return'"'+e+'"'}).join(",")},csvDownload:function(){if(this.csvExportable){this.skipCsvCache&&this.generateCsvData();var e=this.formatCSVRow(this.csvColumns),t=this.csvData.map(this.formatCSVRow),n=[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t)).join("\n"),i=new Blob([n],{type:"text/csv"}),s=document.createElement("a");s.href=window.URL.createObjectURL(i),s.download="export.csv",s.style.display="none",document.body.appendChild(s),s.addEventListener("click",function(){document.body.removeChild(s),s=null},{once:!0}),s.click()}},getRowClass:function(e){return this.rowClass?"string"==typeof this.rowClass?this.rowClass:"function"==typeof this.rowClass?this.rowClass(e):"":""},getTableClass:function(e){return this.tableClass?"string"==typeof this.tableClass?this.tableClass:"function"==typeof this.tableClass?this.tableClass(e):"":"display table table-bordered table-condensed fb-table table-striped responsive"},refreshSource:function(){var e=this;this.blockRefresh||(this.loading=!0,this.showError=!1,this.source.get().then(function(t){e.response=t,e.pagedItems=t.items,e.pageCount=t.pageCount;var n=t.page>=1?t.page:1;e.page!=n&&(e.page=n),e.totalCount=t.totalCount,e.generatedItemKeys={},e.$emit("data-loaded",e.response),e.loading=!1}).catch(function(t){var n=t&&t.data&&t.data.message?t.data.message:"";e.loading=!1,"Error: Request overridden by newer request."==t?e.showError=!1:(e.showError=!0,console&&console.log&&console.log("Error when accessing paged data:",n,t))}).then(function(){e.csvExportable&&e.$nextTick(function(){return e.generateCsvData()})}))},fieldName:function(e){return this.columns[e]},isSortable:function(e){return this.sortable instanceof Array?i.default.includes(this.sortable,e):!!this.sortable},setSort:function(e){this.sortField!==e?(this.defaultSortOrders&&this.defaultSortOrders[e]?this.sortOrder=this.defaultSortOrders[e]:this.sortOrder="A",this.sortField=e):this.sortOrder="D"===this.sortOrder?"A":"D"},sortClass:function(e){return e===this.sortField?"D"===this.sortOrder?"fa-sort-amount-desc active-sort pull-right":"fa-sort-amount-asc active-sort pull-right":"fa-arrows-v text-muted pull-right"},valueFor:function(e,t){for(var n=e,i=t.split(/\./);n&&i.length>0;)n=n[i.shift()];return i.length>0?void 0:n},getCookies:function(e){return this.name&&e&&void 0!==r.default.get(this.name)?JSON.parse(r.default.get(this.name))[e]:null},setCookies:function(e,t){if(!this.name||!e)return!1;var n=r.default.get(this.name);return(n=n?JSON.parse(n):{})[e]=t,!!r.default.set(this.name,n)},applyQueryParams:function(){if(this.queryParamSaver){var e=this.queryParamSaver.get();e&&(void 0!==e.sort_field&&(this.sortField=e.sort_field),void 0!==e.sort_order&&(this.sortOrder=e.sort_order),void 0!==e.search&&(this.search=e.search),void 0!==e.page&&(this.page=e.page),void 0!==e.page_length&&(this.pageLengthSelection=e.page_length),this.$emit("load-endpoint-params",e))}},keyFor:function(e){return this.keyField?e[this.keyField]:e.id?e.id:this.generateKeyFor(e)},generateKeyFor:function(e){var t=null;return i.default.each(this.generatedItemKeys,function(n,i){e===n&&(t=i)}),t||(t=(new Date).valueOf()+"_"+new String(Math.random()).substr(2),this.generatedItemKeys[t]=e),t},generateCsvData:function(){var e=this,t=i.default.keys(this.activeColumns);this.csvData=this.pagedItems.map(function(n){var i=e.keyFor(n);return t.map(function(t){var n="cell."+i+"."+t,s=e.$refs[n];return s&&s[0]?s[0].textContent.trim():null})})},resetActiveFields:function(){this.activeFields=this.defaultActiveFields||Object.keys(this.columns)},storeActiveFieldsToCookies:function(){var e={on:[],off:[]};for(var t in this.columns)i.default.includes(this.activeFields,t)||this.alwaysActiveFields&&i.default.includes(this.alwaysActiveFields,t)?e.on.push(t):e.off.push(t);this.setCookies("fields",e)},getActiveFieldsFromCookies:function(){var e=this.getCookies("fields"),t=this.defaultActiveFields||Object.keys(this.columns);return Object.keys(this.columns).filter(function(n){var s=i.default.includes(e.on,n),a=i.default.includes(e.off,n),r=i.default.includes(t,n);return s||r&&!a})},nonExcludedColumns:function(){var e=this;if(this.adjustableColumns&&this.alwaysActiveFields){var t,n={};return t=Object.keys(this.columns).filter(function(e){return!i.default.includes(this.alwaysActiveFields,e)},this),Object.values(t).map(function(t){n[t]=e.columns[t]}),n}return this.columns}}}},function(e,t,n){"use strict";function i(e,t,n,i,s,a,r,o){var l=typeof(e=e||{}).default;"object"!==l&&"function"!==l||(e=e.default);var u,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId=a),r?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=u):s&&(u=o?function(){s.call(this,this.$root.$options.shadowRoot)}:s),u)if(c.functional){c._injectStyles=u;var f=c.render;c.render=function(e,t){return u.call(t),f(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,u):[u]}return{exports:e,options:c}}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.search="",this.search_fields=[],this.sort_field="",this.sort_direction="A",this.onChangeClosures=[],this.page=null,this.page_length=null}return i(e,[{key:"setPage",value:function(e,t){return this.page=e,this.page_length=t,this.fireChangeEvent(),this}},{key:"setSearch",value:function(e,t){return this.search=e,this.search_fields=t,this.fireChangeEvent(),this}},{key:"setSort",value:function(e,t){return this.sort_field=e,this.sort_direction=t,this.fireChangeEvent(),this}},{key:"onChange",value:function(e){this.onChangeClosures.push(e)}},{key:"fireChangeEvent",value:function(){this.onChangeClosures.map(function(e){return e()})}},{key:"get",value:function(){throw new Error("`get` has not been defined on this class")}}]),e}();e.exports=s},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var i=function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"nova-table clearfix"},[i("div",{staticClass:"nova-table-header"},[i("div",{staticClass:"toggle-columns form-group pull-left"},[i("div",{staticClass:"form-inline"},[i("div",{staticClass:"form-group pull-left"},[t.searchable?i("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{placeholder:"Search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}):t._e()]),t._v(" "),i("div",{staticClass:"form-group absolute pull-left margin-left"},[t.adjustableColumns?i("button",{staticClass:"btn btn-default btn-spacing",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[t._t("columns-icon",function(){return[i("i",{staticClass:"fa fa-columns"})]})],2):t._e(),t._v(" "),t.adjustableColumns?i("ul",{staticClass:"dropdown-menu dropdown-menu--toggle-col"},[t._l(t.nonExcludedColumns(),function(e,n){return i("li",[i("a",{on:{click:function(e){e.stopPropagation()}}},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeFields,expression:"activeFields"}],attrs:{type:"checkbox"},domProps:{value:n,checked:Array.isArray(t.activeFields)?t._i(t.activeFields,n)>-1:t.activeFields},on:{change:function(e){var i=t.activeFields,s=e.target,a=!!s.checked;if(Array.isArray(i)){var r=n,o=t._i(i,r);s.checked?o<0&&(t.activeFields=i.concat([r])):o>-1&&(t.activeFields=i.slice(0,o).concat(i.slice(o+1)))}else t.activeFields=a}}}),t._v(" "+t._s(e)+"\n                                ")])])])}),t._v(" "),t.savingToCookies?i("li",[i("a",{staticClass:"btn",on:{click:t.resetActiveFields}},[t._v("\n                                Reset to Default\n                            ")])]):t._e()],2):t._e(),t._v(" "),t.showError?i("i",{staticClass:"fa fa-exclamation-circle",attrs:{title:"There was a problem with your last request."}}):t._e()]),t._v(" "),i("div",{staticClass:"form-group absolute pull-left margin-left"},[t._t("top-left-bar")],2)])]),t._v(" "),i("div",{staticClass:"pull-right"},[t._t("top-right-bar"),t._v(" "),t.csvExportable?i("a",{staticClass:"btn btn-default btn-spacing",class:(e={},e["btn-sm"]=t.csvBtnSmall,e),on:{click:t.csvDownload}},[t._t("csv-icon",function(){return[i("img",{attrs:{src:"require('csv.svg')",onerror:"this.src='@/csv.png'; this.onerror=null;"}})]}),t._v("\n                CSV\n            ")],2):t._e()],2)]),t._v(" "),t.loading?i("div",[t._m(0)]):t._e(),t._v(" "),i("div",{staticClass:"nova-table-container"},[i("table",{class:t.getTableClass(t.items),attrs:{width:"100%"}},[i("thead",[i("tr",{staticClass:"sorting-header-gray"},t._l(t.activeColumns,function(e,n){var s;return i("th",{class:(s={},s["th-"+n+"-styles"]=!0,s.sortable=t.isSortable(n),s),style:{cursor:t.isSortable(n)?"pointer":"default"},on:{click:function(e){t.isSortable(n)&&t.setSort(n)}}},[i("div",[t.isSortable(n)?i("i",{staticClass:"fa",class:t.sortClass(n),attrs:{"aria-hidden":"true"}}):t._e(),t._v(" "),t._t("th-"+n,function(){return[i("span",[t._v(t._s(e))])]})],2)])}),0)]),t._v(" "),i("transition-group",{staticClass:"tableBody",attrs:{tag:"tbody",name:"nova-rows"}},[t._l(t.pagedItems,function(e){return i("tr",{key:t.keyFor(e),class:t.getRowClass(e)},t._l(t.activeColumns,function(n,s){return i("td",{ref:"cell."+t.keyFor(e)+"."+s,refInFor:!0,class:"td-"+s+"-styles"},[t._t(s,function(){return[t._v("\n                            "+t._s(t.valueFor(e,s))+"\n                        ")]},{item:e})],2)}),0)}),t._v(" "),0===t.pagedItems.length?i("tr",{key:"no-items"},[i("td",{attrs:{colspan:t.activeFields.length||1}},[t._v(" No matching items.")])]):t._e()],2),t._v(" "),t.footer?i("tfoot",[i("tr",{staticClass:"sorting-header-gray"},t._l(t.activeColumns,function(e,n){return i("td",{key:n},[t._t(n+"-footer",null,{items:t.pagedItems,response:t.response})],2)}),0)]):t._e()],1)]),t._v(" "),i("div",{staticClass:"nova-table-footer"},[i("div",{staticClass:"pull-left inline"},[t.pageLengthSelection?i("div",{staticClass:"dropup"},[t.pageLengthOptions?[t._v("\n                    "+t._s(t.pageLengthPrefix)+"\n                    "),i("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{id:"page-length-dropdown",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[t._v("\n                        "+t._s(t.pageLengthSelection)+"\n                        "),i("span",{staticClass:"caret"})]),t._v(" "),i("ul",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"page-length-dropdown"}},t._l(t.pageLengthOptions,function(e){return i("li",[i("a",{attrs:{href:"javascript:void(0);"},on:{click:function(n){t.pageLengthSelection=e}}},[t._v(t._s(e))])])}),0),t._v("\n                    "+t._s(t.pageLengthSuffix)+"\n                ")]:t._e(),t._v(" "),i("span",[t._v("\n                    "+t._s(t.pageDescriptor)+"\n                ")])],2):t._e(),t._v(" "),t._t("bottom-left-bar")],2),t._v(" "),i("div",{staticClass:"pull-right"},[t._t("bottom-right-bar"),t._v(" "),t.pageLengthSelection&&t.pageCount>1?i("nova-page-select",{attrs:{"page-count":t.pageCount,"show-pages":t.showPages,"show-jumps":t.showJumps},scopedSlots:t._u([{key:"pagination-first",fn:function(){return[t._t("pagination-first")]},proxy:!0},{key:"pagination-prev",fn:function(){return[t._t("pagination-prev")]},proxy:!0},{key:"pagination-next",fn:function(){return[t._t("pagination-next")]},proxy:!0},{key:"pagination-last",fn:function(){return[t._t("pagination-last")]},proxy:!0}],null,!0),model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e()],2)])])},s=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-xs-12 text-center"},[t("div",{staticClass:"well table-loader"},[t("i",{staticClass:"fa fa-circle-o-notch fa-4x fa-spin"}),this._v(" "),t("br"),this._v("\n                    Loading...\n                ")])])])}];i._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"pagination pull-right"},[e.showJumps?n("li",{class:e.classFor("previous")},[e.isDisabled("previous")?n("span",[e._t("pagination-first",function(){return[n("i",{staticClass:"fa fa-angle-double-left"})]})],2):n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.setPage("first")}}},[e._t("pagination-first",function(){return[n("i",{staticClass:"fa fa-angle-double-left"})]})],2)]):e._e(),e._v(" "),n("li",{class:e.classFor("previous"),attrs:{name:"previousPage"}},[e.isDisabled("previous")?n("span",[e._t("pagination-prev",function(){return[e._v("\n                Previous\n            ")]})],2):n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.setPage("previous")}}},[e._t("pagination-prev",function(){return[e._v("\n                Previous\n            ")]})],2)]),e._v(" "),e._l(e.pages,function(t){return e.showPages?n("li",{class:e.classFor(t)},[n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(n){return e.setPage(t)}}},[e._v("\n            "+e._s(t)+"\n        ")])]):e._e()}),e._v(" "),n("li",{class:e.classFor("next"),attrs:{name:"nextPage"}},[e.isDisabled("next")?n("span",[e._t("pagination-next",function(){return[e._v("\n                Next\n            ")]})],2):n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.setPage("next")}}},[e._t("pagination-next",function(){return[e._v("\n                Next\n            ")]})],2)]),e._v(" "),e.showJumps?n("li",{class:e.classFor("next")},[e.isDisabled("next")?n("span",[e._t("pagination-last",function(){return[n("i",{staticClass:"fa fa-angle-double-right"})]})],2):n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.setPage("last")}}},[e._t("pagination-last",function(){return[n("i",{staticClass:"fa fa-angle-double-right"})]})],2)]):e._e()],2)},s=[];i._withStripped=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=[],i={},s=0;s<t.length;s++){var a=t[s],r=a[0],o=a[1],l=a[2],u=a[3],c={id:e+":"+s,css:o,media:l,sourceMap:u};i[r]?i[r].parts.push(c):n.push(i[r]={id:r,parts:[c]})}return n}},function(e,t){e.exports=require("lodash")},function(e,t){e.exports=require("jquery")},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var s=n(7),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.last_action=(new Date).valueOf(),this.request_intervals=[],this.last_reasonable_interval=0}return i(e,[{key:"throttle",value:function(e){this.timer&&(clearTimeout(this.timer),this.timer=null);var t=2*this.averageSpeed(),n=(new Date).valueOf(),i=n-this.last_action;this.last_action=n,i>1e3?this.request_intervals=[]:this.request_intervals.push(i),0===t?t=this.last_reasonable_interval:this.last_reasonable_interval=t,i<t?this.timer=setTimeout(e,t):e()}},{key:"averageSpeed",value:function(){return 0===this.request_intervals.length?0:s.sum(this.request_intervals)/this.request_intervals.length}}]),e}();e.exports=a},function(e,t){e.exports=require("vue")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=l(n(10)),a=l(n(3)),r=l(n(9)),o=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.endpoint=e,i.paramMergers=[],i.throttle=new r.default,i.slug=null,i.http=n||s.default.http,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"addParamMerger",value:function(e){this.paramMergers.push(e)}},{key:"buildRequestData",value:function(){var e={search:this.search,search_fields:this.search_fields,sort_field:this.sort_field,sort_direction:this.sort_direction,page:this.page,page_length:this.page_length};return this.paramMergers.map(function(t){return t(e)}),e}},{key:"buildRequestUrl",value:function(){var e=this.buildRequestData();return/\?/.test(this.endpoint)?this.endpoint+"&"+o.default.param(e):this.endpoint+"?"+o.default.param(e)}},{key:"get",value:function(){var e=this,t=this.slug=Math.random();return new Promise(function(n){e.throttle.throttle(function(){n(e.http.get(e.buildRequestUrl()).then(function(n){if(t!==e.slug)throw new Error("Request overridden by newer request.");var i=n.data;return i.warnings&&(alert(i.warnings.join("\n\n")),delete i.warnings),i}))})})}}]),t}();t.default=u},function(e,t){e.exports=require("qs")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e){return e&&e.__esModule?e:{default:e}}(n(12));var a=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("No name supplied");this.name=t}return i(e,[{key:"get",value:function(){return s.default.parse(location.search.substr(1))[this.name]}},{key:"set",value:function(e){var t=s.default.parse(location.search.substr(1));e&&Object.keys(e).length>0?t[this.name]=e:delete t[this.name],t&&s.default.stringify(t).length>0?history.replaceState({},"","?"+s.default.stringify(t)):history.replaceState({},"",location.pathname)}}]),e}();t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(0),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(5),o=n(2),l=Object(o.a)(s.a,r.a,r.b,!1,null,null,null);l.options.__file="src/NovaPageSelect.vue",t.default=l.exports},function(e,t){e.exports=require("js-cookie")},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"matches",value:function(e,t){if("number"==typeof t&&(t+=""),"string"!=typeof t)return!1;t=t.toLowerCase();for(var n=e.toLowerCase(),i=0;i<n.length;i++){var s=t.indexOf(n[i]);if(s<0)return!1;t=t.substr(s+1)}return!0}}]),e}();e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=r(n(16)),a=r(n(3));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.items=e,i.filterClosures=[],i.matcher=n||new s.default,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"addFilter",value:function(e){this.filterClosures.push(e)}},{key:"get",value:function(){var e=this,t=Promise.resolve(this.items);return this.filterClosures.map(function(e){t=t.then(e)}),t.then(function(t){return t.filter(function(t){return!e.search||_.find(e.search_fields,function(n){return e.matcher.matches(e.search,t[n])})})}).then(function(t){var n=e.sort_field;return t.sort(function(t,i){return t[n]<i[n]?"A"===e.sort_direction?-1:1:t[n]>i[n]?"A"===e.sort_direction?1:-1:0})}).then(function(t){var n=e.page_length||t.length;e.page||(e.page=1);var i=n?Math.ceil(t.length/n):1;e.page>i&&(e.page=i);var s=t.length;return{items:t=t.slice((e.page-1)*n,e.page*n),pageCount:i,page:e.page,totalCount:s}})}}]),t}();t.default=o},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return g});var i=n(6),s=n.n(i),a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},o=a&&(document.head||document.getElementsByTagName("head")[0]),l=null,u=0,c=!1,f=function(){},d=null,h="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function g(e,t,n,i){c=n,d=i||{};var a=s()(e,t);return v(a),function(t){for(var n=[],i=0;i<a.length;i++){var o=a[i];(l=r[o.id]).refs--,n.push(l)}t?v(a=s()(e,t)):a=[];for(i=0;i<n.length;i++){var l;if(0===(l=n[i]).refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete r[l.id]}}}}function v(e){for(var t=0;t<e.length;t++){var n=e[t],i=r[n.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](n.parts[s]);for(;s<n.parts.length;s++)i.parts.push(y(n.parts[s]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var a=[];for(s=0;s<n.parts.length;s++)a.push(y(n.parts[s]));r[n.id]={id:n.id,refs:1,parts:a}}}}function m(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function y(e){var t,n,i=document.querySelector("style["+h+'~="'+e.id+'"]');if(i){if(c)return f;i.parentNode.removeChild(i)}if(p){var s=u++;i=l||(l=m()),t=S.bind(null,i,s,!1),n=S.bind(null,i,s,!0)}else i=m(),t=function(e,t){var n=t.css,i=t.media,s=t.sourceMap;i&&e.setAttribute("media",i);d.ssrId&&e.setAttribute(h,t.id);s&&(n+="\n/*# sourceURL="+s.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function S(e,t,n,i){var s=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=b(t,s);else{var a=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var s=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(i),a=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[n].concat(a).concat([s]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},s=0;s<this.length;s++){var a=this[s][0];"number"==typeof a&&(i[a]=!0)}for(s=0;s<e.length;s++){var r=e[s];"number"==typeof r[0]&&i[r[0]]||(n&&!r[2]?r[2]=n:n&&(r[2]="("+r[2]+") and ("+n+")"),t.push(r))}},t}},function(e,t,n){(e.exports=n(19)(!0)).push([e.i,"\n.nova-table div.form-group.pull-left.margin-left {\n    margin-left: .5em;\n}\n.nova-table-header,\n.nova-table-footer {\n    width: 100%;\n}\n.table-loader {\n    opacity: .6;\n    position: absolute;\n    width: 100%;\n    height: 920px;\n    padding-top: 100px;\n    z-index: 1;\n}\n.pagination {\n    margin: 0 0 20px 0;\n}\ntd.td-scheduled_or_posted_at-styles {\n    width: 115px;\n}\n.sortable {\n    white-space: nowrap;\n}\n.sortable i {\n    margin-top: 3px;\n}\n","",{version:3,sources:["/Users/carlosvertiz/Documents/Projects/nova-tables/src/src/NovaTable.vue"],names:[],mappings:";AA8tBA;IACA,kBAAA;CACA;AAEA;;IAEA,YAAA;CACA;AAEA;IACA,YAAA;IACA,mBAAA;IACA,YAAA;IACA,cAAA;IACA,mBAAA;IACA,WAAA;CACA;AAEA;IACA,mBAAA;CACA;AAEA;IACA,aAAA;CACA;AAEA;IACA,oBAAA;CACA;AAEA;IACA,gBAAA;CACA",file:"NovaTable.vue",sourcesContent:['\n<template>\n    <div class="nova-table clearfix">\n        <div class="nova-table-header">\n            <div class="toggle-columns form-group pull-left">\n                <div class="form-inline">\n                    <div class="form-group pull-left">\n                        <input v-if="searchable" v-model="search" placeholder="Search" class="form-control">\n                    </div>\n\n                    <div class="form-group absolute pull-left margin-left">\n                        <button v-if="adjustableColumns" class="btn btn-default btn-spacing" type="button" data-toggle="dropdown" aria-expanded="false">\n                            <slot name="columns-icon">\n                                <i class="fa fa-columns" />\n                            </slot>\n                        </button>\n\n                        <ul v-if="adjustableColumns" class="dropdown-menu dropdown-menu--toggle-col">\n                            <li v-for="(name, field) in nonExcludedColumns()">\n                                <a @click.stop>\n                                    <label>\n                                        <input v-model="activeFields" type="checkbox" :value="field"> {{ name }}\n                                    </label>\n                                </a>\n                            </li>\n                            <li v-if="savingToCookies">\n                                <a class="btn" @click="resetActiveFields">\n                                    Reset to Default\n                                </a>\n                            </li>\n                        </ul>\n                        <i v-if="showError" class="fa fa-exclamation-circle" title="There was a problem with your last request." />\n                    </div>\n\n                    <div class="form-group absolute pull-left margin-left">\n                        <slot name="top-left-bar" />\n                    </div>\n                </div>\n            </div>\n\n            <div class="pull-right">\n                <slot name="top-right-bar" />\n                <a v-if="csvExportable" class="btn btn-default btn-spacing" :class="{[\'btn-sm\']: csvBtnSmall}" @click="csvDownload">\n                    <slot name="csv-icon">\n                        <img src="require(\'csv.svg\')" onerror="this.src=\'@/csv.png\'; this.onerror=null;">\n                    </slot>\n                    CSV\n                </a>\n            </div>\n        </div>\n        \x3c!-- loading indicator --\x3e\n        <div v-if="loading">\n            <div class="row">\n                <div class="col-xs-12 text-center">\n                    <div class="well table-loader">\n                        <i class="fa fa-circle-o-notch fa-4x fa-spin" />\n                        <br>\n                        Loading...\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="nova-table-container">\n            <table :class="getTableClass(items)"\n                   width="100%"\n            >\n                <thead>\n                    <tr class="sorting-header-gray">\n                        <th\n                            v-for="(name, field) in activeColumns"\n                            :style="{ cursor: isSortable(field) ? \'pointer\' : \'default\' }"\n                            :class="{[\'th-\' + field + \'-styles\']: true, sortable: isSortable(field) }"\n                            @click="isSortable(field) ? setSort(field) : null"\n                        >\n                            <div>\n                                <i v-if="isSortable(field)" class="fa" :class="sortClass(field)" aria-hidden="true" />\n                                <slot :name="\'th-\' + field">\n                                    <span>{{ name }}</span>\n                                </slot>\n                            </div>\n                        </th>\n                    </tr>\n                </thead>\n                <transition-group tag="tbody" class="tableBody" name="nova-rows">\n                    <tr v-for="item in pagedItems" :key="keyFor(item)" :class="getRowClass(item)">\n                        <td v-for="(name, field) in activeColumns" :ref="\'cell.\' + keyFor(item) + \'.\' + field" :class="\'td-\' + field + \'-styles\'">\n                            <slot :name="field" :item="item">\n                                {{ valueFor(item, field) }}\n                            </slot>\n                        </td>\n                    </tr>\n                    <tr v-if="pagedItems.length === 0" key="no-items">\n                        <td :colspan="activeFields.length || 1"> No matching items.</td>\n                    </tr>\n                </transition-group>\n                <tfoot v-if="footer">\n                    <tr class="sorting-header-gray">\n                        <td v-for="(name, field) in activeColumns" :key="field">\n                            <slot :name="field + \'-footer\'" :items="pagedItems" :response="response" />\n                        </td>\n                    </tr>\n                </tfoot>\n            </table>\n        </div>\n        <div class="nova-table-footer">\n            <div class="pull-left inline">\n                <div v-if="pageLengthSelection" class="dropup">\n                    <template v-if="pageLengthOptions">\n                        {{ pageLengthPrefix }}\n                        <button id="page-length-dropdown" class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">\n                            {{ pageLengthSelection }}\n                            <span class="caret" />\n                        </button>\n                        <ul class="dropdown-menu" aria-labelledby="page-length-dropdown">\n                            <li v-for="option in pageLengthOptions"><a href="javascript:void(0);" @click="pageLengthSelection = option">{{ option }}</a></li>\n                        </ul>\n                        {{ pageLengthSuffix }}\n                    </template>\n                    <span>\n                        {{ pageDescriptor }}\n                    </span>\n                </div>\n                <slot name="bottom-left-bar" />\n            </div>\n            <div class="pull-right">\n                <slot name="bottom-right-bar" />\n\n                <nova-page-select\n                    v-if="pageLengthSelection && pageCount > 1"\n                    v-model="page"\n                    :page-count="pageCount"\n                    :show-pages="showPages"\n                    :show-jumps="showJumps"\n                >\n                    <template #pagination-first>\n                        <slot name="pagination-first" />\n                    </template>\n                    <template #pagination-prev>\n                        <slot name="pagination-prev" />\n                    </template>\n                    <template #pagination-next>\n                        <slot name="pagination-next" />\n                    </template>\n                    <template #pagination-last>\n                        <slot name="pagination-last" />\n                    </template>\n                </nova-page-select>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport _ from \'lodash\';\nimport AbstractSource from \'./abstract-source.js\';\nimport ArraySource from \'./array-source.js\';\nimport Cookies from \'js-cookie\';\nimport NovaPageSelect from \'./NovaPageSelect.vue\';\nimport QueryParamSaver from \'./query-param-saver.js\';\nimport ServerSideSource from \'./server-side-source.js\';\n\nexport default {\n    /* Expose Libraries */\n    AbstractSource,\n    ArraySource,\n    NovaPageSelect,\n    ServerSideSource,\n\n    /* Regular Stuff */\n    components: {\n        NovaPageSelect,\n    },\n    props: {\n        items:               null,\n        endpoint:            null,\n        endpointParams:      null,\n        columns:             null,\n        searchable:          null,\n        adjustableColumns:   null,\n        sortable:            null,\n        defaultSortField:    null,\n        csvExportable:       null,\n        defaultActiveFields: null,\n        alwaysActiveFields:  null,\n        itemSource:          null,\n        pageLength:          null,\n        pageLengthOptions:   null,\n        footer:              null,\n        defaultSortOrders:   null,\n        name:                null,\n        keyField:            null,\n        tableClass:          null,\n        rowClass:            null,\n        skipCsvCache:        null,\n        showPages:           {\n            required: false,\n            default:  true,\n        },\n        showJumps:           {\n            required: false,\n            defaut:   false,\n        },\n        paginationSyntax:    null,\n        csvBtnSmall:         {\n            required: false,\n            defaut:   false,\n        },\n    },\n    data() {\n        return {\n            activeFields:        [],\n            sortField:           \'\',\n            sortOrder:           \'A\',\n            search:              \'\',\n            source:              new ArraySource([]),\n            pagedItems:          [],\n            response:            null,\n            totalCount:          0,\n            pageCount:           1,\n            page:                1,\n            pageLengthSelection: null,\n            loading:             false,\n            showError:           false,\n            blockRefresh:        true,\n            initialQueryParams:  {},\n            generatedItemKeys:   {},\n            csvData:             [],\n            queryParamSaver:     this.name ? new QueryParamSaver(this.name) : null,\n            paginationSyntaxDefaults: {\n                prefix:           \'Showing \',\n                suffix:           \' entries\',\n                itemsSeparator:   \' to \',\n                totalSeparator:   \' of \',\n                pageLengthPrefix: \'Show \',\n                pageLengthSuffix: \' entries | \',\n            }\n        };\n    },\n    mounted() {\n        this.$nextTick(() => {\n            if (this.itemSource) {\n                this.source = this.itemSource;\n            } else if (this.items) {\n                this.source = new ArraySource(this.items);\n            } else if (this.endpoint) {\n                this.source = new ServerSideSource(this.endpoint, this.$http);\n                this.source.addParamMerger((params) => {\n                    if (this.endpointParams) {\n                        _.merge(params, this.endpointParams);\n                    }\n                });\n            } else {\n                throw new Error(\'No item-source specified\');\n            }\n            this.pageLengthSelection = this.pageLength;\n            this.source.setPage(this.page, this.pageLengthSelection);\n            this.source.onChange(() => this.refreshSource());\n\n            if (this.getCookies(\'fields\')) {\n                this.activeFields = this.getActiveFieldsFromCookies();\n            } else {\n                this.activeFields = this.defaultActiveFields || Object.keys(this.columns);\n            }\n\n            if (this.defaultSortField) {\n                this.sortField = this.defaultSortField;\n            } else {\n                this.sortField = this.activeFields[0];\n            }\n            if (this.defaultSortOrders && this.defaultSortOrders[this.sortField]) {\n                this.sortOrder = this.defaultSortOrders[this.sortField];\n            }\n\n            this.initialQueryParams = this.queryParamsToSave;\n\n            this.applyQueryParams();\n\n            this.$nextTick(() => {\n                this.blockRefresh = false;\n                this.refreshSource();\n            });\n        });\n    },\n    watch: {\n        search: _.debounce(function() {\n            this.source.setSearch(this.search, this.activeFields);\n        }, 350),\n        activeFields() {\n            this.storeActiveFieldsToCookies();\n            this.source.setSearch(this.search, this.activeFields);\n        },\n        sortField() {\n            this.source.setSort(this.sortField, this.sortOrder)\n        },\n        sortOrder() {\n            this.source.setSort(this.sortField, this.sortOrder)\n        },\n        page() {\n            this.source.setPage(this.computedPage, this.computedPageLength);\n        },\n        pageLengthSelection() {\n            this.source.setPage(this.computedPage, this.computedPageLength);\n        },\n        endpointParams() {\n            this.source.fireChangeEvent();\n        },\n        queryParamsToSave() {\n            if (this.queryParamSaver) {\n                this.queryParamSaver.set(this.queryParamsToSave);\n            }\n        },\n        items() {\n            if (this.source instanceof ArraySource) {\n                this.source = new ArraySource(this.items);\n                this.source.setPage(this.computedPage, this.computedPageLength);\n                this.source.setSort(this.sortField, this.sortOrder);\n                this.source.onChange(() => this.refreshSource());\n                this.refreshSource();\n            }\n        },\n    },\n    computed: {\n        computedPage() {\n            if (this.pageLengthSelection === \'All\') {\n                return null;\n            } else {\n                return this.page;\n            }\n        },\n\n        computedPageLength() {\n            if (this.pageLengthSelection === \'All\') {\n                return null;\n            } else {\n                return this.pageLengthSelection;\n            }\n        },\n        pageLengthPrefix() {\n            return this.paginationSyntax && this.paginationSyntax.pageLengthPrefix\n                ? this.paginationSyntax.pageLengthPrefix\n                : this.paginationSyntaxDefaults.pageLengthPrefix;\n        },\n        pageLengthSuffix() {\n            return this.paginationSyntax && this.paginationSyntax.pageLengthSuffix\n                ? this.paginationSyntax.pageLengthSuffix\n                : this.paginationSyntaxDefaults.pageLengthSuffix;\n        },\n        pageDescriptor() {\n            let prefix = this.paginationSyntax && this.paginationSyntax ? this.paginationSyntax.prefix : this.paginationSyntaxDefaults.prefix;\n            let suffix = this.paginationSyntax && this.paginationSyntax.suffix ? this.paginationSyntax.suffix : this.paginationSyntaxDefaults.suffix;\n            let itemsSeparator = this.paginationSyntax && this.paginationSyntax.itemsSeparator ? this.paginationSyntax.itemsSeparator : this.paginationSyntaxDefaults.itemsSeparator;\n            let totalSeparator = this.paginationSyntax && this.paginationSyntax.totalSeparator ? this.paginationSyntax.totalSeparator : this.paginationSyntaxDefaults.totalSeparator;\n\n            if (this.pageLengthSelection == \'All\') {\n                return prefix + this.totalCount + suffix;\n            }\n            var start = ((this.page - 1) * this.pageLengthSelection) + 1;\n            var end   = start + this.pageLengthSelection - 1;\n            if (start < 0) {\n                start = 1;\n            }\n            if (end < start) {\n                end = start;\n            }\n            if (end > this.totalCount) {\n                end = this.totalCount;\n            }\n            if (this.totalCount === 0) {\n                return \'0\' + suffix;\n            } else {\n                return prefix + start + (start === end ? \'\' : itemsSeparator + end) + totalSeparator + this.totalCount + suffix;\n            }\n        },\n        activeColumns() {\n            var columns = {};\n            Object.keys(this.columns).map(field => {\n                if (_.includes(this.activeFields, field)) {\n                    columns[field] = this.columns[field];\n                }\n            });\n            return columns;\n        },\n        csvColumns() {\n            return _.values(this.activeColumns);\n        },\n        pages() {\n            var start = parseInt(this.page) - 3;\n            var end = parseInt(this.page) + 3;\n            // if start is too low, shift all of [start,end] up\n            if (start < 1) {\n                var diff = 1 - start;\n                start += diff;\n                end += diff;\n            }\n            // if end is too high, shift all of [start,end] down\n            if (end > this.pageCount) {\n                var diff = end - this.pageCount;\n                start -= diff;\n                end -= diff;\n            }\n            // if start is too low again, just set it to 1\n            if (start < 1) {\n                start = 1;\n            }\n            var pages = [];\n            for (var i = start; i <= end; i++) {\n                pages.push(i);\n            }\n            return pages;\n        },\n        queryParamsToSave() {\n            var params = {\n                sort_field:  this.sortField,\n                sort_order:  this.sortOrder,\n                search:      this.search,\n                page:        this.page,\n                page_length: this.pageLengthSelection,\n            }\n            if (this.endpointParams) {\n                _.merge(params, this.endpointParams);\n            }\n            // Now that we have all the params, let\'s check if any of them\n            // would be set to those values by default. If so, we can keep\n            // the URL small by taking them out entirely.\n            for (var field in params) {\n                if (params[field] == this.initialQueryParams[field]) {\n                    delete params[field];\n                }\n            }\n            return params;\n        },\n        savingToCookies() {\n            return Boolean(this.name);\n        },\n    },\n    methods: {\n        formatCSVRow(row) {\n            return row.map(column => `"${column}"`).join(\',\');\n        },\n\n        csvDownload() {\n            if (!this.csvExportable) {\n                return;\n            }\n            if (this.skipCsvCache) {\n                this.generateCsvData();\n            }\n\n            let headers = this.formatCSVRow(this.csvColumns);\n            let body    = this.csvData.map(this.formatCSVRow);\n            let output  = [ headers, ...body ].join(\'\\n\');\n\n            // Gotta use blob URI because IE/Edge don\'t support data URI\n            let blob = new Blob([output], {type: \'text/csv\'});\n            let anchor               = document.createElement(\'a\');\n                anchor.href          = window.URL.createObjectURL(blob);\n                anchor.download      = \'export.csv\';\n                anchor.style.display = \'none\';\n\n            // Firefox will not download unless it\'s attached\n            document.body.appendChild(anchor);\n            anchor.addEventListener(\'click\', function() {\n                document.body.removeChild(anchor);\n                anchor = null;\n            }, { once: true });\n\n            anchor.click();\n        },\n        getRowClass(item) {\n            if (!this.rowClass) {\n                return \'\';\n            }\n            if (typeof this.rowClass === \'string\') {\n                return this.rowClass;\n            } else if (typeof this.rowClass === \'function\') {\n                return this.rowClass(item);\n            } else {\n                return \'\';\n            }\n        },\n        getTableClass(items) {\n            if (!this.tableClass) {\n                return \'display table table-bordered table-condensed fb-table table-striped responsive\';\n            }\n            if (typeof this.tableClass === \'string\') {\n                return this.tableClass;\n            } else if (typeof this.tableClass === \'function\') {\n                return this.tableClass(items);\n            } else {\n                return \'\';\n            }\n        },\n        refreshSource() {\n            if (this.blockRefresh) {\n                return;\n            }\n\n            //show loading indicator\n            this.loading = true;\n            this.showError = false;\n\n            this.source\n                .get()\n                .then((response) => {\n                    this.response = response;\n                    this.pagedItems = response.items;\n                    this.pageCount = response.pageCount;\n\n                    let page = response.page >= 1 ? response.page : 1;\n\n                    if (this.page != page) {\n                        this.page = page;\n                    }\n\n                    this.totalCount = response.totalCount;\n                    this.generatedItemKeys = {};\n                    this.$emit(\'data-loaded\', this.response);\n                    //stop loading indicator\n                    this.loading = false;\n                })\n                .catch(err => {\n                    var msg = err && err.data && err.data.message ? err.data.message : \'\';\n\n                    //stop loading indicator\n                    this.loading = false;\n\n                    if (err == \'Error: Request overridden by newer request.\') {\n                        this.showError = false;\n                    } else {\n                        //show error icon\n                        this.showError = true;\n\n                        console && console.log && console.log(\'Error when accessing paged data:\', msg, err);\n                    }\n                })\n                .then(() => {\n                    if (this.csvExportable) {\n                        this.$nextTick(() => this.generateCsvData());\n                    }\n                });\n        },\n        fieldName(columnName) {\n            return this.columns[columnName];\n        },\n        isSortable(field)\n        {\n            if (this.sortable instanceof Array) {\n                return _.includes(this.sortable, field);\n            } else if (this.sortable) {\n                return true;\n            } else {\n                return false;\n            }\n        },\n        setSort(field) {\n            if (this.sortField === field) {\n                this.sortOrder = this.sortOrder === \'D\' ? \'A\' : \'D\';\n                return;\n            } else if (this.defaultSortOrders && this.defaultSortOrders[field]) {\n                this.sortOrder = this.defaultSortOrders[field];\n            } else {\n                this.sortOrder = \'A\';\n            }\n\n            this.sortField = field;\n        },\n        sortClass(field) {\n            if (field === this.sortField) {\n                return this.sortOrder === \'D\' ? \'fa-sort-amount-desc active-sort pull-right\' : \'fa-sort-amount-asc active-sort pull-right\';\n            }\n            return \'fa-arrows-v text-muted pull-right\';\n        },\n        /**\n         * Return item.field or, if field is a dot-delimited field,\n         * follow the chain of references to the last value.\n         */\n        valueFor(item, field) {\n            var obj = item;\n            var chain = field.split(/\\./);\n            while (obj && chain.length > 0) {\n                obj = obj[chain.shift()];\n            }\n            if (chain.length > 0) {\n                return undefined;\n            } else {\n                return obj;\n            }\n        },\n        getCookies(field) {\n            if (!this.name || !field || Cookies.get(this.name) === undefined) {\n                return null;\n            }\n\n            return JSON.parse(Cookies.get(this.name))[field];\n        },\n        setCookies(field, value) {\n            if (!this.name || !field) {\n                return false;\n            }\n\n            var cookie = Cookies.get(this.name);\n\n            if (cookie) {\n                cookie = JSON.parse(cookie);\n            } else {\n                cookie = {};\n            }\n\n            cookie[field] = value;\n            if (Cookies.set(this.name, cookie)) {\n                return true;\n            }\n\n            return false;\n        },\n        applyQueryParams() {\n            if (this.queryParamSaver) {\n                var params = this.queryParamSaver.get();\n                if (params) {\n                    if (typeof params.sort_field != \'undefined\') {\n                        this.sortField = params.sort_field;\n                    }\n                    if (typeof params.sort_order != \'undefined\') {\n                        this.sortOrder = params.sort_order;\n                    }\n                    if (typeof params.search != \'undefined\') {\n                        this.search = params.search\n                    }\n                    if (typeof params.page != \'undefined\') {\n                        this.page = params.page;\n                    }\n                    if (typeof params.page_length != \'undefined\') {\n                        this.pageLengthSelection = params.page_length;\n                    }\n                    this.$emit(\'load-endpoint-params\', params);\n                }\n            }\n        },\n        keyFor(item) {\n            if (this.keyField) {\n                return item[this.keyField];\n            }\n            if (item.id) {\n                return item.id;\n            }\n            return this.generateKeyFor(item);\n        },\n        generateKeyFor(item) {\n            var found = null;\n            _.each(this.generatedItemKeys, (saved_item, key) => {\n                if (item === saved_item) {\n                    found = key;\n                }\n            });\n            if (!found) {\n                // make a random key\n                found = new Date().valueOf() + \'_\' + new String(Math.random()).substr(2);\n                this.generatedItemKeys[found] = item;\n            }\n            return found;\n        },\n        generateCsvData() {\n            // Sort fields according to column order\n            let fields = _.keys(this.activeColumns);\n\n            // This method depends on this.$refs, so it cannot be a computed property\n            this.csvData = this.pagedItems.map((item) => {\n                let id       = this.keyFor(item);\n\n                return fields.map(field => {\n                    let key = \'cell.\' + id + \'.\' + field;\n                    let elem = this.$refs[key];\n\n                    if (elem && elem[0]) {\n                        return elem[0].textContent.trim();\n                    } else {\n                        return null;\n                    }\n                });\n            });\n        },\n        resetActiveFields() {\n            this.activeFields = this.defaultActiveFields || Object.keys(this.columns);\n        },\n        storeActiveFieldsToCookies() {\n            var fields = {\n                on:  [],\n                off: [],\n            };\n            for (var field in this.columns) {\n                if (_.includes(this.activeFields, field) || (this.alwaysActiveFields && _.includes(this.alwaysActiveFields, field))) {\n                    fields.on.push(field);\n                } else {\n                    fields.off.push(field);\n                }\n            }\n\n            this.setCookies(\'fields\', fields);\n        },\n        getActiveFieldsFromCookies() {\n            var fields = this.getCookies(\'fields\');\n            var defaultOn = this.defaultActiveFields || Object.keys(this.columns);\n            return Object.keys(this.columns).filter(field => {\n                var fieldIsSelected = _.includes(fields.on, field);\n                var fieldIsDeselected = _.includes(fields.off, field);\n                var fieldDefaultsToOn = _.includes(defaultOn, field);\n                return fieldIsSelected || (fieldDefaultsToOn && !fieldIsDeselected);\n            });\n        },\n        nonExcludedColumns() {\n            if (this.adjustableColumns && this.alwaysActiveFields) {\n\n                var fields = {};\n                var columns = {};\n\n                fields = Object.keys(this.columns).filter( function(field) {\n                    return !(_.includes(this.alwaysActiveFields, field));\n                }, this);\n\n                Object.values(fields).map(field => {\n                    columns[field] = this.columns[field];\n                });\n\n                return columns;\n\n            } else {\n                return this.columns\n            }\n        },\n    },\n}\n<\/script>\n\n<style>\n    .nova-table div.form-group.pull-left.margin-left {\n        margin-left: .5em;\n    }\n\n    .nova-table-header,\n    .nova-table-footer {\n        width: 100%;\n    }\n\n    .table-loader {\n        opacity: .6;\n        position: absolute;\n        width: 100%;\n        height: 920px;\n        padding-top: 100px;\n        z-index: 1;\n    }\n\n    .pagination {\n        margin: 0 0 20px 0;\n    }\n\n    td.td-scheduled_or_posted_at-styles {\n        width: 115px;\n    }\n\n    .sortable {\n        white-space: nowrap;\n    }\n\n    .sortable i {\n        margin-top: 3px;\n    }\n</style>\n'],sourceRoot:""}])},function(e,t,n){var i=n(20);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(18).default)("4241cdd4",i,!1,{})},function(e,t,n){"use strict";n.r(t);var i=n(1),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(4),o=n(2),l=!1;var u=function(e){l||n(21)},c=Object(o.a)(s.a,r.a,r.b,!1,u,null,null);c.options.__file="src/NovaTable.vue",t.default=c.exports},function(e,t,n){e.exports=n(22)}]);
//# sourceMappingURL=NovaTable.js.map