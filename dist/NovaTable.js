!function(e){var t={};function n(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=24)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["value","pageCount","showJumps"],data:function(){return{page:this.value}},computed:{pages:function(){var e,t=parseInt(this.page)-3,n=parseInt(this.page)+3;t<1&&(t+=e=1-t,n+=e);n>this.pageCount&&(t-=e=n-this.pageCount,n-=e);t<1&&(t=1);for(var s=[],r=t;r<=n;r++)s.push(r);return s}},watch:{value:function(){this.page=parseInt(this.value)}},methods:{classFor:function(e){return"previous"===e&&1==this.page?"disabled":"next"===e&&this.page==this.pageCount?"disabled":e==this.page?"active":""},isDisabled:function(e){return"previous"===e&&1==this.page||"next"===e&&this.page==this.pageCount},setPage:function(e){"next"===e?e=this.page+1:"previous"===e?e=this.page-1:"first"===e?e=1:"last"===e&&(e=this.pageCount),this.$emit("input",e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=d(n(7)),r=d(n(3)),i=d(n(18)),a=d(n(16)),o=d(n(15)),l=d(n(14)),u=d(n(13)),c=d(n(11));function d(e){return e&&e.__esModule?e:{default:e}}t.default={AbstractSource:r.default,ArraySource:i.default,NovaPageSelect:l.default,ServerSideSource:c.default,components:{CsvDownload:o.default,NovaPageSelect:l.default},props:["items","endpoint","endpointParams","columns","searchable","adjustableColumns","sortable","defaultSortField","csvExportable","defaultActiveFields","itemSource","pageLength","pageLengthOptions","footer","defaultSortOrders","name","keyField"],data:function(){return{activeFields:[],sortField:"",sortOrder:"A",search:"",source:new i.default([]),pagedItems:[],response:null,totalCount:0,pageCount:1,page:1,pageLengthSelection:null,loading:!1,showError:!1,blockRefresh:!0,initialQueryParams:{},generatedItemKeys:{},csvData:[],queryParamSaver:this.name?new u.default(this.name):null}},mounted:function(){var e=this;this.$nextTick(function(){if(e.itemSource)e.source=e.itemSource;else if(e.items)e.source=new i.default(e.items);else{if(!e.endpoint)throw new Error("No item-source specified");e.source=new c.default(e.endpoint,e.$http),e.source.addParamMerger(function(t){e.endpointParams&&s.default.merge(t,e.endpointParams)})}e.pageLengthSelection=e.pageLength,e.source.setPage(e.page,e.pageLengthSelection),e.source.onChange(function(){return e.refreshSource()}),e.getCookies("fields")?e.activeFields=e.getActiveFieldsFromCookies():e.activeFields=e.defaultActiveFields||Object.keys(e.columns),e.defaultSortField?e.sortField=e.defaultSortField:e.sortField=e.activeFields[0],e.defaultSortOrders&&e.defaultSortOrders[e.sortField]&&(e.sortOrder=e.defaultSortOrders[e.sortField]),e.initialQueryParams=e.queryParamsToSave,e.applyQueryParams(),e.$nextTick(function(){e.blockRefresh=!1,e.refreshSource()})})},watch:{search:function(){this.source.setSearch(this.search,this.activeFields)},activeFields:function(){this.storeActiveFieldsToCookies(),this.source.setSearch(this.search,this.activeFields)},sortField:function(){this.source.setSort(this.sortField,this.sortOrder)},sortOrder:function(){this.source.setSort(this.sortField,this.sortOrder)},page:function(){"All"==this.pageLengthSelection?this.source.setPage(null,null):this.source.setPage(this.page,this.pageLengthSelection)},pageLengthSelection:function(){"All"==this.pageLengthSelection?this.source.setPage(null,null):this.source.setPage(this.page,this.pageLengthSelection)},endpointParams:function(){this.source.fireChangeEvent()},queryParamsToSave:function(){this.queryParamSaver&&this.queryParamSaver.set(this.queryParamsToSave)}},computed:{pageDescriptor:function(){if("All"==this.pageLengthSelection)return"Showing "+this.totalCount+" entries";var e=(this.page-1)*this.pageLengthSelection+1,t=e+this.pageLengthSelection-1;return e<0&&(e=1),t<e&&(t=e),t>this.totalCount&&(t=this.totalCount),0===this.totalCount?"0 entries":"Showing "+e+(e===t?"":" to "+t)+" of "+this.totalCount+" entries"},activeColumns:function(){var e=this,t={};return Object.keys(this.columns).map(function(n){s.default.includes(e.activeFields,n)&&(t[n]=e.columns[n])}),t},csvColumns:function(){return s.default.values(this.activeColumns)},pages:function(){var e,t=parseInt(this.page)-3,n=parseInt(this.page)+3;t<1&&(t+=e=1-t,n+=e);n>this.pageCount&&(t-=e=n-this.pageCount,n-=e);t<1&&(t=1);for(var s=[],r=t;r<=n;r++)s.push(r);return s},queryParamsToSave:function(){var e={sort_field:this.sortField,sort_order:this.sortOrder,search:this.search,page:this.page,page_length:this.pageLengthSelection};for(var t in this.endpointParams&&s.default.merge(e,this.endpointParams),e)e[t]==this.initialQueryParams[t]&&delete e[t];return e},savingToCookies:function(){return Boolean(this.name)}},methods:{refreshSource:function(){var e=this;this.blockRefresh||(this.loading=!0,this.showError=!1,this.source.get().then(function(t){e.response=t,e.pagedItems=t.items,e.pageCount=t.pageCount;var n=t.page>=1?t.page:1;e.page!=n&&(e.page=n),e.totalCount=t.totalCount,e.generatedItemKeys={},e.$emit("data-loaded",e.response),e.loading=!1}).catch(function(t){var n=t&&t.data&&t.data.message?t.data.message:"";e.loading=!1,"Error: Request overridden by newer request."==t?e.showError=!1:(e.showError=!0,console&&console.log&&console.log("Error when accessing paged data:",n,t))}).then(function(){e.csvExportable&&e.$nextTick(function(){return e.generateCsvData()})}))},fieldName:function(e){return this.columns[e]},isSortable:function(e){return this.sortable instanceof Array?s.default.includes(this.sortable,e):!!this.sortable},setSort:function(e){this.sortField!==e?(this.defaultSortOrders&&this.defaultSortOrders[e]?this.sortOrder=this.defaultSortOrders[e]:this.sortOrder="A",this.sortField=e):this.sortOrder="D"===this.sortOrder?"A":"D"},sortClass:function(e){return e===this.sortField?"D"===this.sortOrder?"fa-sort-amount-desc active-sort pull-right":"fa-sort-amount-asc active-sort pull-right":"fa-arrows-v text-muted pull-right"},valueFor:function(e,t){for(var n=e,s=t.split(/\./);n&&s.length>0;)n=n[s.shift()];return s.length>0?void 0:n},getCookies:function(e){return this.name&&e&&void 0!==a.default.get(this.name)?JSON.parse(a.default.get(this.name))[e]:null},setCookies:function(e,t){if(!this.name||!e)return!1;var n=a.default.get(this.name);return(n=n?JSON.parse(n):{})[e]=t,!!a.default.set(this.name,n)},applyQueryParams:function(){if(this.queryParamSaver){var e=this.queryParamSaver.get();e&&(void 0!==e.sort_field&&(this.sortField=e.sort_field),void 0!==e.sort_order&&(this.sortOrder=e.sort_order),void 0!==e.search&&(this.search=e.search),void 0!==e.page&&(this.page=e.page),void 0!==e.page_length&&(this.pageLengthSelection=e.page_length),this.$emit("load-endpoint-params",e))}},keyFor:function(e){return this.keyField?e[this.keyField]:e.id?e.id:this.generateKeyFor(e)},generateKeyFor:function(e){var t=null;return s.default.each(this.generatedItemKeys,function(n,s){e===n&&(t=s)}),t||(t=(new Date).valueOf()+"_"+new String(Math.random()).substr(2),this.generatedItemKeys[t]=e),t},generateCsvData:function(){var e=this;this.csvData=this.pagedItems.map(function(t){var n=e.keyFor(t),r={};return s.default.each(e.activeFields,function(t){e.$refs["cell."+n+"."+t]&&e.$refs["cell."+n+"."+t][0]?r[e.columns[t]]=e.$refs["cell."+n+"."+t][0].textContent.trim():r[e.columns[t]]=null}),r})},resetActiveFields:function(){this.activeFields=this.defaultActiveFields||Object.keys(this.columns)},storeActiveFieldsToCookies:function(){var e={on:[],off:[]};for(var t in this.columns)s.default.includes(this.activeFields,t)?e.on.push(t):e.off.push(t);this.setCookies("fields",e)},getActiveFieldsFromCookies:function(){var e=this.getCookies("fields"),t=this.defaultActiveFields||Object.keys(this.columns);return Object.keys(this.columns).filter(function(n){var r=s.default.includes(e.on,n),i=s.default.includes(e.off,n),a=s.default.includes(t,n);return r||a&&!i})}}}},function(e,t,n){"use strict";function s(e,t,n,s,r,i,a,o){var l=typeof(e=e||{}).default;"object"!==l&&"function"!==l||(e=e.default);var u,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),s&&(c.functional=!0),i&&(c._scopeId=i),a?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=u):r&&(u=o?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(c.functional){c._injectStyles=u;var d=c.render;c.render=function(e,t){return u.call(t),d(e,t)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,u):[u]}return{exports:e,options:c}}n.d(t,"a",function(){return s})},function(e,t,n){"use strict";var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.search="",this.search_fields=[],this.sort_field="",this.sort_direction="A",this.onChangeClosures=[],this.page=null,this.page_length=null}return s(e,[{key:"setPage",value:function(e,t){return this.page=e,this.page_length=t,this.fireChangeEvent(),this}},{key:"setSearch",value:function(e,t){return this.search=e,this.search_fields=t,this.fireChangeEvent(),this}},{key:"setSort",value:function(e,t){return this.sort_field=e,this.sort_direction=t,this.fireChangeEvent(),this}},{key:"onChange",value:function(e){this.onChangeClosures.push(e)}},{key:"fireChangeEvent",value:function(){this.onChangeClosures.map(function(e){return e()})}},{key:"get",value:function(){throw new Error("`get` has not been defined on this class")}}]),e}();e.exports=r},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return r});var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nova-table clearfix"},[n("div",{staticClass:"toggle-columns form-group pull-left"},[n("div",{staticClass:"form-inline"},[n("div",{staticClass:"form-group pull-left"},[e.searchable?n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control",attrs:{placeholder:"Search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}):e._e()]),e._v(" "),n("div",{staticClass:"form-group absolute pull-left margin-left"},[e.adjustableColumns?n("button",{staticClass:"btn btn-default btn-spacing",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[n("i",{staticClass:"fa fa-columns"})]):e._e(),e._v(" "),e.adjustableColumns?n("ul",{staticClass:"dropdown-menu dropdown-menu--toggle-col"},[e._l(e.columns,function(t,s){return n("li",[n("a",{on:{click:function(e){e.stopPropagation()}}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.activeFields,expression:"activeFields"}],attrs:{type:"checkbox"},domProps:{value:s,checked:Array.isArray(e.activeFields)?e._i(e.activeFields,s)>-1:e.activeFields},on:{change:function(t){var n=e.activeFields,r=t.target,i=!!r.checked;if(Array.isArray(n)){var a=s,o=e._i(n,a);r.checked?o<0&&(e.activeFields=n.concat([a])):o>-1&&(e.activeFields=n.slice(0,o).concat(n.slice(o+1)))}else e.activeFields=i}}}),e._v(" "+e._s(t)+"\n                            ")])])])}),e._v(" "),e.savingToCookies?n("li",[n("a",{staticClass:"btn",on:{click:e.resetActiveFields}},[e._v("\n                            Reset to Default\n                        ")])]):e._e()],2):e._e(),e._v(" "),e.showError?n("i",{staticClass:"fa fa-exclamation-circle",attrs:{title:"There was a problem with your last request."}}):e._e()]),e._v(" "),n("div",{staticClass:"form-group absolute pull-left margin-left"},[e._t("top-left-bar")],2)])]),e._v(" "),n("div",{staticClass:"pull-right"},[e._t("top-right-bar"),e._v(" "),e.csvExportable?n("csv-download",{attrs:{fields:e.csvColumns,data:e.csvData}},[n("button",{staticClass:"btn btn-default btn-spacing",attrs:{type:"button"}},[n("i",{staticClass:"fa fa-file-excel-o",attrs:{"aria-hidden":"true"}}),e._v(" CSV\n            ")])]):e._e()],2),e._v(" "),e.loading?n("div",[e._m(0)]):e._e(),e._v(" "),n("div",{staticClass:"nova-table-container"},[n("table",{staticClass:"display table table-bordered table-condensed fb-table table-striped responsive",attrs:{width:"100%"}},[n("thead",[n("tr",{staticClass:"sorting-header-gray"},e._l(e.activeColumns,function(t,s){return n("th",{class:{sortable:e.isSortable(s)},style:{cursor:e.isSortable(s)?"pointer":"default"},on:{click:function(t){e.isSortable(s)&&e.setSort(s)}}},[n("div",[e.isSortable(s)?n("i",{staticClass:"fa",class:e.sortClass(s),attrs:{"aria-hidden":"true"}}):e._e(),e._v(" "),n("span",[e._v(e._s(t))])])])}))]),e._v(" "),n("transition-group",{staticClass:"tableBody",attrs:{tag:"tbody",name:"nova-rows"}},[e._l(e.pagedItems,function(t){return n("tr",{key:e.keyFor(t)},e._l(e.activeColumns,function(s,r){return n("td",{ref:"cell."+e.keyFor(t)+"."+r,refInFor:!0,class:"td-"+r+"-styles"},[e._t(r,[e._v("\n                            "+e._s(e.valueFor(t,r))+"\n                        ")],{item:t})],2)}))}),e._v(" "),0===e.pagedItems.length?n("tr",{key:"no-items"},[n("td",{attrs:{colspan:e.activeFields.length||1}},[e._v(" No matching items.")])]):e._e()],2),e._v(" "),e.footer?n("tfoot",[n("tr",{staticClass:"sorting-header-gray"},e._l(e.activeColumns,function(t,s){return n("td",[e._t(s+"-footer",null,{items:e.pagedItems,response:e.response})],2)}))]):e._e()],1)]),e._v(" "),n("div",{staticClass:"pull-left inline"},[e.pageLengthSelection?n("div",{staticClass:"dropup"},[e.pageLengthOptions?[e._v("\n                Show\n                "),n("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button",id:"page-length-dropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e._v("\n                    "+e._s(e.pageLengthSelection)+"\n                    "),n("span",{staticClass:"caret"})]),e._v(" "),n("ul",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"page-length-dropdown"}},e._l(e.pageLengthOptions,function(t){return n("li",[n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(n){e.pageLengthSelection=t}}},[e._v(e._s(t))])])})),e._v("\n                entries |\n            ")]:e._e(),e._v(" "),n("span",[e._v("\n                "+e._s(e.pageDescriptor)+"\n            ")])],2):e._e(),e._v(" "),e._t("bottom-left-bar")],2),e._v(" "),n("div",{staticClass:"pull-right"},[e._t("bottom-right-bar"),e._v(" "),e.pageLengthSelection&&e.pageCount>1?n("nova-page-select",{attrs:{"page-count":e.pageCount},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}}):e._e()],2)])},r=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-xs-12 text-center"},[t("div",{staticClass:"well table-loader"},[t("i",{staticClass:"fa fa-circle-o-notch fa-4x fa-spin"}),this._v(" "),t("br"),this._v("\n                    Loading...\n                ")])])])}];s._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return r});var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"pagination pull-right"},[e.showJumps?n("li",{class:e.classFor("previous")},[e.isDisabled("previous")?n("span",[n("i",{staticClass:"fa fa-angle-double-left"})]):n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){e.setPage("first")}}},[n("i",{staticClass:"fa fa-angle-double-left"})])]):e._e(),e._v(" "),n("li",{class:e.classFor("previous"),attrs:{name:"previousPage"}},[e.isDisabled("previous")?n("span",[e._v("Previous")]):n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){e.setPage("previous")}}},[e._v("Previous")])]),e._v(" "),e._l(e.pages,function(t){return n("li",{class:e.classFor(t)},[n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(n){e.setPage(t)}}},[e._v(e._s(t))])])}),e._v(" "),n("li",{class:e.classFor("next"),attrs:{name:"nextPage"}},[e.isDisabled("next")?n("span",[e._v("Next")]):n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){e.setPage("next")}}},[e._v("Next")])]),e._v(" "),e.showJumps?n("li",{class:e.classFor("next")},[e.isDisabled("next")?n("span",[n("i",{staticClass:"fa fa-angle-double-right"})]):n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){e.setPage("last")}}},[n("i",{staticClass:"fa fa-angle-double-right"})])]):e._e()],2)},r=[];s._withStripped=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=[],s={},r=0;r<t.length;r++){var i=t[r],a=i[0],o=i[1],l=i[2],u=i[3],c={id:e+":"+r,css:o,media:l,sourceMap:u};s[a]?s[a].parts.push(c):n.push(s[a]={id:a,parts:[c]})}return n}},function(e,t){e.exports=require("lodash")},function(e,t){e.exports=require("jquery")},function(e,t,n){"use strict";var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();var r=n(7),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.last_action=(new Date).valueOf(),this.request_intervals=[],this.last_reasonable_interval=0}return s(e,[{key:"throttle",value:function(e){this.timer&&(clearTimeout(this.timer),this.timer=null);var t=2*this.averageSpeed(),n=(new Date).valueOf(),s=n-this.last_action;this.last_action=n,s>1e3?this.request_intervals=[]:this.request_intervals.push(s),0===t?t=this.last_reasonable_interval:this.last_reasonable_interval=t,s<t?this.timer=setTimeout(e,t):e()}},{key:"averageSpeed",value:function(){return 0===this.request_intervals.length?0:r.sum(this.request_intervals)/this.request_intervals.length}}]),e}();e.exports=i},function(e,t){e.exports=require("vue")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),r=l(n(10)),i=l(n(3)),a=l(n(9)),o=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.endpoint=e,s.paramMergers=[],s.throttle=new a.default,s.slug=null,s.http=n||r.default.http,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),s(t,[{key:"addParamMerger",value:function(e){this.paramMergers.push(e)}},{key:"buildRequestData",value:function(){var e={search:this.search,search_fields:this.search_fields,sort_field:this.sort_field,sort_direction:this.sort_direction,page:this.page,page_length:this.page_length};return this.paramMergers.map(function(t){return t(e)}),e}},{key:"buildRequestUrl",value:function(){var e=this.buildRequestData();return/\?/.test(this.endpoint)?this.endpoint+"&"+o.default.param(e):this.endpoint+"?"+o.default.param(e)}},{key:"get",value:function(){var e=this,t=this.slug=Math.random();return new Promise(function(n){e.throttle.throttle(function(){n(e.http.get(e.buildRequestUrl()).then(function(n){if(t!==e.slug)throw new Error("Request overridden by newer request.");var s=n.data;return s.warnings&&(alert(s.warnings.join("\n\n")),delete s.warnings),s}))})})}}]),t}();t.default=u},function(e,t){e.exports=require("qs")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),i=n(12),a=(s=i)&&s.__esModule?s:{default:s};var o=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("No name supplied");this.name=t}return r(e,[{key:"get",value:function(){return a.default.parse(location.search.substr(1))[this.name]}},{key:"set",value:function(e){var t=a.default.parse(location.search.substr(1));e&&Object.keys(e).length>0?t[this.name]=e:delete t[this.name],t&&a.default.stringify(t).length>0?history.replaceState({},"","?"+a.default.stringify(t)):history.replaceState({},"",location.pathname)}}]),e}();t.default=o},function(e,t,n){"use strict";n.r(t);var s=n(0),r=n.n(s);for(var i in s)"default"!==i&&function(e){n.d(t,e,function(){return s[e]})}(i);var a=n(5),o=n(2),l=Object(o.a)(r.a,a.a,a.b,!1,null,null,null);l.options.__file="src/NovaPageSelect.vue",t.default=l.exports},function(e,t){e.exports=require("vue-csv-downloader")},function(e,t){e.exports=require("js-cookie")},function(e,t,n){"use strict";var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return s(e,[{key:"matches",value:function(e,t){if("number"==typeof t&&(t+=""),"string"!=typeof t)return!1;t=t.toLowerCase();for(var n=e.toLowerCase(),s=0;s<n.length;s++){var r=t.indexOf(n[s]);if(r<0)return!1;t=t.substr(r+1)}return!0}}]),e}();e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),r=a(n(17)),i=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.items=e,s.filterClosures=[],s.matcher=n||new r.default,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),s(t,[{key:"addFilter",value:function(e){this.filterClosures.push(e)}},{key:"get",value:function(){var e=this,t=Promise.resolve(this.items);return this.filterClosures.map(function(e){t=t.then(e)}),t.then(function(t){return t.filter(function(t){return!e.search||_.find(e.search_fields,function(n){return e.matcher.matches(e.search,t[n])})})}).then(function(t){var n=e.sort_field;return t.sort(function(t,s){return t[n]<s[n]?"A"===e.sort_direction?-1:1:t[n]>s[n]?"A"===e.sort_direction?1:-1:0})}).then(function(t){var n=e.page_length||t.length;e.page||(e.page=1);var s=n?Math.ceil(t.length/n):1;e.page>s&&(e.page=s);var r=t.length;return{items:t=t.slice((e.page-1)*n,e.page*n),pageCount:s,page:e.page,totalCount:r}})}}]),t}();t.default=o},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return v});var s=n(6),r=n.n(s),i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},o=i&&(document.head||document.getElementsByTagName("head")[0]),l=null,u=0,c=!1,d=function(){},f=null,h="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function v(e,t,n,s){c=n,f=s||{};var i=r()(e,t);return g(i),function(t){for(var n=[],s=0;s<i.length;s++){var o=i[s];(l=a[o.id]).refs--,n.push(l)}t?g(i=r()(e,t)):i=[];for(s=0;s<n.length;s++){var l;if(0===(l=n[s]).refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete a[l.id]}}}}function g(e){for(var t=0;t<e.length;t++){var n=e[t],s=a[n.id];if(s){s.refs++;for(var r=0;r<s.parts.length;r++)s.parts[r](n.parts[r]);for(;r<n.parts.length;r++)s.parts.push(b(n.parts[r]));s.parts.length>n.parts.length&&(s.parts.length=n.parts.length)}else{var i=[];for(r=0;r<n.parts.length;r++)i.push(b(n.parts[r]));a[n.id]={id:n.id,refs:1,parts:i}}}}function m(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function b(e){var t,n,s=document.querySelector("style["+h+'~="'+e.id+'"]');if(s){if(c)return d;s.parentNode.removeChild(s)}if(p){var r=u++;s=l||(l=m()),t=C.bind(null,s,r,!1),n=C.bind(null,s,r,!0)}else s=m(),t=function(e,t){var n=t.css,s=t.media,r=t.sourceMap;s&&e.setAttribute("media",s);f.ssrId&&e.setAttribute(h,t.id);r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,s),n=function(){s.parentNode.removeChild(s)};return t(e),function(s){if(s){if(s.css===e.css&&s.media===e.media&&s.sourceMap===e.sourceMap)return;t(e=s)}else n()}}var y,_=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function C(e,t,n,s){var r=n?"":s.css;if(e.styleSheet)e.styleSheet.cssText=_(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",s=e[3];if(!s)return n;if(t&&"function"==typeof btoa){var r=(a=s,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=s.sources.map(function(e){return"/*# sourceURL="+s.sourceRoot+e+" */"});return[n].concat(i).concat([r]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var s={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(s[i]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&s[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){(e.exports=n(20)(!0)).push([e.i,"\n.nova-table div.form-group.pull-left.margin-left {\n    margin-left: .5em;\n}\n.table-loader{\n    opacity: .6;\n    position: absolute;\n    width: 100%;\n    height: 920px;\n    padding-top: 100px;\n    z-index: 1;\n}\n.pagination{\n    margin: 0 0 20px 0;\n}\ntd.td-scheduled_or_posted_at-styles {\n    width: 115px;\n}\n.sortable {\n    white-space: nowrap;\n}\n.sortable i {\n    margin-top: 3px;\n}\n","",{version:3,sources:["/home/dkuck/work/nova-tables/src/src/NovaTable.vue"],names:[],mappings:";AAkkBA;IACA,kBAAA;CACA;AAEA;IACA,YAAA;IACA,mBAAA;IACA,YAAA;IACA,cAAA;IACA,mBAAA;IACA,WAAA;CACA;AAEA;IACA,mBAAA;CACA;AAEA;IACA,aAAA;CACA;AAEA;IACA,oBAAA;CACA;AAEA;IACA,gBAAA;CACA",file:"NovaTable.vue",sourcesContent:['\n<template>\n    <div class="nova-table clearfix">\n        <div class="toggle-columns form-group pull-left">\n            <div class="form-inline">\n\n                <div class="form-group pull-left">\n                    <input v-if="searchable" v-model="search" placeholder="Search" class="form-control">\n                </div>\n\n                <div class="form-group absolute pull-left margin-left">\n                    <button class="btn btn-default btn-spacing" type="button" data-toggle="dropdown" aria-expanded="false" v-if="adjustableColumns">\n                        <i class="fa fa-columns"></i>\n                    </button>\n\n                    <ul v-if="adjustableColumns" class="dropdown-menu dropdown-menu--toggle-col">\n                        <li v-for="(name, field) in columns">\n                            <a @click.stop>\n                                <label>\n                                    <input type="checkbox" :value="field" v-model="activeFields"> {{ name }}\n                                </label>\n                            </a>\n                        </li>\n                        <li v-if="savingToCookies">\n                            <a @click="resetActiveFields" class="btn">\n                                Reset to Default\n                            </a>\n                        </li>\n                    </ul>\n                    <i class="fa fa-exclamation-circle" title="There was a problem with your last request." v-if="showError"></i>\n                </div>\n\n                <div class="form-group absolute pull-left margin-left">\n                    <slot name="top-left-bar"></slot>\n                </div>\n\n            </div>\n        </div>\n\n        <div class="pull-right">\n            <slot name="top-right-bar"></slot>\n            <csv-download\n                    v-if="csvExportable"\n                    :fields="csvColumns"\n                    :data="csvData"\n            >\n                <button class="btn btn-default btn-spacing" type="button" >\n                    <i class="fa fa-file-excel-o" aria-hidden="true"></i> CSV\n                </button>\n            </csv-download>\n        </div>\n        \x3c!-- loading indicator --\x3e\n        <div v-if="loading">\n            <div class="row">\n                <div class="col-xs-12 text-center">\n                    <div class="well table-loader">\n                        <i class="fa fa-circle-o-notch fa-4x fa-spin"></i>\n                        <br>\n                        Loading...\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="nova-table-container">\n            <table class="display table table-bordered table-condensed fb-table table-striped responsive"\n                   width="100%">\n                <thead>\n                    <tr class=\'sorting-header-gray\'>\n                        <th v-for="(name, field) in activeColumns" :style="{ cursor: isSortable(field) ? \'pointer\' : \'default\' }" :class="{ sortable: isSortable(field) }" @click="isSortable(field) ? setSort(field) : null">\n                            <div>\n                                <i v-if="isSortable(field)" class="fa" :class="sortClass(field)" aria-hidden="true"></i>\n                                <span>{{ name }}</span>\n                            </div>\n                        </th>\n                    </tr>\n                </thead>\n                <transition-group tag="tbody" class="tableBody" name="nova-rows">\n                    <tr v-for="item in pagedItems" :key="keyFor(item)">\n                        <td v-for="(name, field) in activeColumns" :class="\'td-\' + field + \'-styles\'" :ref="\'cell.\' + keyFor(item) + \'.\' + field">\n                            <slot :name="field" :item="item">\n                                {{ valueFor(item, field) }}\n                            </slot>\n                        </td>\n                    </tr>\n                    <tr v-if="pagedItems.length === 0" key="no-items">\n                        <td :colspan="activeFields.length || 1"> No matching items.</td>\n                    </tr>\n                </transition-group>\n                <tfoot v-if="footer">\n                    <tr class="sorting-header-gray">\n                        <td v-for="(name, field) in activeColumns">\n                            <slot :name="field + \'-footer\'" :items="pagedItems" :response="response">\n                            </slot>\n                        </td>\n                    </tr>\n                </tfoot>\n            </table>\n        </div>\n        <div class="pull-left inline">\n            <div class="dropup" v-if="pageLengthSelection">\n                <template v-if="pageLengthOptions">\n                    Show\n                    <button class="btn btn-default dropdown-toggle" type="button" id="page-length-dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">\n                        {{ pageLengthSelection }}\n                        <span class="caret"></span>\n                    </button>\n                    <ul class="dropdown-menu" aria-labelledby="page-length-dropdown">\n                        <li v-for="option in pageLengthOptions"><a href="javascript:void(0);" @click="pageLengthSelection = option">{{ option }}</a></li>\n                    </ul>\n                    entries |\n                </template>\n                <span>\n                    {{ pageDescriptor }}\n                </span>\n            </div>\n            <slot name="bottom-left-bar"></slot>\n        </div>\n        <div class="pull-right">\n            <slot name="bottom-right-bar"></slot>\n\n            <nova-page-select \n                v-if="pageLengthSelection && pageCount > 1" \n                v-model="page" \n                :page-count="pageCount"\n            >\n            </nova-page-select>\n\n        </div>\n    </div>\n</template>\n\n<script>\nimport _ from \'lodash\';\nimport AbstractSource from \'./abstract-source.js\';\nimport ArraySource from \'./array-source.js\';\nimport Cookies from \'js-cookie\';\nimport CsvDownload from \'vue-csv-downloader\';\nimport NovaPageSelect from \'./NovaPageSelect.vue\';\nimport QueryParamSaver from \'./query-param-saver.js\';\nimport ServerSideSource from \'./server-side-source.js\';\n\nexport default {\n    /* Expose Libraries */\n    AbstractSource,\n    ArraySource,\n    NovaPageSelect,\n    ServerSideSource,\n\n    /* Regular Stuff */\n    components: {\n        CsvDownload,\n        NovaPageSelect,\n    },\n    props: [\n        \'items\',\n        \'endpoint\',\n        \'endpointParams\',\n        \'columns\',\n        \'searchable\',\n        \'adjustableColumns\',\n        \'sortable\',\n        \'defaultSortField\',\n        \'csvExportable\',\n        \'defaultActiveFields\',\n        \'itemSource\',\n        \'pageLength\',\n        \'pageLengthOptions\',\n        \'footer\',\n        \'defaultSortOrders\',\n        \'name\',\n        \'keyField\',\n    ],\n    data() {\n        return {\n            activeFields: [],\n            sortField: \'\',\n            sortOrder: \'A\',\n            search: \'\',\n            source: new ArraySource([]),\n            pagedItems: [],\n            response: null,\n            totalCount: 0,\n            pageCount: 1,\n            page: 1,\n            pageLengthSelection: null,\n            loading: false,\n            showError: false,\n            blockRefresh: true,\n            initialQueryParams: {},\n            generatedItemKeys: {},\n            csvData: [],\n            queryParamSaver: this.name ? new QueryParamSaver(this.name) : null,\n        };\n    },\n    mounted() {\n        this.$nextTick(() => {\n            if (this.itemSource) {\n                this.source = this.itemSource;\n            } else if (this.items) {\n                this.source = new ArraySource(this.items);\n            } else if (this.endpoint) {\n                this.source = new ServerSideSource(this.endpoint, this.$http);\n                this.source.addParamMerger((params) => {\n                    if (this.endpointParams) {\n                        _.merge(params, this.endpointParams);\n                    }\n                });\n            } else {\n                throw new Error(\'No item-source specified\');\n            }\n            this.pageLengthSelection = this.pageLength;\n            this.source.setPage(this.page, this.pageLengthSelection);\n            this.source.onChange(() => this.refreshSource());\n\n            if (this.getCookies(\'fields\')) {\n                this.activeFields = this.getActiveFieldsFromCookies();\n            } else {\n                this.activeFields = this.defaultActiveFields || Object.keys(this.columns);\n            }\n\n            if (this.defaultSortField) {\n                this.sortField = this.defaultSortField;\n            } else {\n                this.sortField = this.activeFields[0];\n            }\n            if (this.defaultSortOrders && this.defaultSortOrders[this.sortField]) {\n                this.sortOrder = this.defaultSortOrders[this.sortField];\n            }\n\n            this.initialQueryParams = this.queryParamsToSave;\n\n            this.applyQueryParams();\n\n            this.$nextTick(() => {\n                this.blockRefresh = false;\n                this.refreshSource();\n            });\n        });\n    },\n    watch: {\n        search() {\n            this.source.setSearch(this.search, this.activeFields);\n        },\n        activeFields() {\n            this.storeActiveFieldsToCookies();\n            this.source.setSearch(this.search, this.activeFields);\n        },\n        sortField() {\n            this.source.setSort(this.sortField, this.sortOrder)\n        },\n        sortOrder() {\n            this.source.setSort(this.sortField, this.sortOrder)\n        },\n        page() {\n            if (this.pageLengthSelection == \'All\') {\n                this.source.setPage(null, null);\n            } else {\n                this.source.setPage(this.page, this.pageLengthSelection);\n            }\n        },\n        pageLengthSelection() {\n            if (this.pageLengthSelection == \'All\') {\n                this.source.setPage(null, null);\n            } else {\n                this.source.setPage(this.page, this.pageLengthSelection);\n            }\n        },\n        endpointParams() {\n            this.source.fireChangeEvent();\n        },\n        queryParamsToSave() {\n            if (this.queryParamSaver) {\n                this.queryParamSaver.set(this.queryParamsToSave);\n            }\n        },\n    },\n    computed: {\n        pageDescriptor() {\n            if (this.pageLengthSelection == \'All\') {\n                return \'Showing \' + this.totalCount + \' entries\';\n            }\n            var start = ((this.page - 1) * this.pageLengthSelection) + 1;\n            var end = start + this.pageLengthSelection - 1;\n            if (start < 0) {\n                start = 1;\n            }\n            if (end < start) {\n                end = start;\n            }\n            if (end > this.totalCount) {\n                end = this.totalCount;\n            }\n            if (this.totalCount === 0) {\n                return \'0 entries\';\n            } else {\n                return \'Showing \' + start + (start === end ? \'\' : \' to \' + end) + \' of \' + this.totalCount + \' entries\';\n            }\n        },\n        activeColumns() {\n            var columns = {};\n            Object.keys(this.columns).map(field => {\n                if (_.includes(this.activeFields, field)) {\n                    columns[field] = this.columns[field];\n                }\n            });\n            return columns;\n        },\n        csvColumns() {\n            return _.values(this.activeColumns);\n        },\n        pages() {\n            var start = parseInt(this.page) - 3;\n            var end = parseInt(this.page) + 3;\n            // if start is too low, shift all of [start,end] up\n            if (start < 1) {\n                var diff = 1 - start;\n                start += diff;\n                end += diff;\n            }\n            // if end is too high, shift all of [start,end] down\n            if (end > this.pageCount) {\n                var diff = end - this.pageCount;\n                start -= diff;\n                end -= diff;\n            }\n            // if start is too low again, just set it to 1\n            if (start < 1) {\n                start = 1;\n            }\n            var pages = [];\n            for (var i = start; i <= end; i++) {\n                pages.push(i);\n            }\n            return pages;\n        },\n        queryParamsToSave() {\n            var params = {\n                sort_field: this.sortField,\n                sort_order: this.sortOrder,\n                search: this.search,\n                page: this.page,\n                page_length: this.pageLengthSelection,\n            }\n            if (this.endpointParams) {\n                _.merge(params, this.endpointParams);\n            }\n            // Now that we have all the params, let\'s check if any of them\n            // would be set to those values by default. If so, we can keep\n            // the URL small by taking them out entirely.\n            for (var field in params) {\n                if (params[field] == this.initialQueryParams[field]) {\n                    delete params[field];\n                }\n            }\n            return params;\n        },\n        savingToCookies() {\n            return Boolean(this.name);\n        },\n    },\n    methods: {\n        refreshSource() {\n            if (this.blockRefresh) {\n                return;\n            }\n\n            //show loading indicator\n            this.loading = true;\n            this.showError = false;\n\n            this.source\n                .get()\n                .then((response) => {\n                    this.response = response;\n                    this.pagedItems = response.items;\n                    this.pageCount = response.pageCount;\n                \n                    let page = response.page >= 1 ? response.page : 1;\n                \n                    if (this.page != page) {\n                        this.page = page;\n                    }\n                \n                    this.totalCount = response.totalCount;\n                    this.generatedItemKeys = {};    \n                    this.$emit(\'data-loaded\', this.response);\n                    //stop loading indicator\n                    this.loading = false;\n                })\n                .catch(err => {\n                    var msg = err && err.data && err.data.message ? err.data.message : \'\';\n\n                    //stop loading indicator\n                    this.loading = false;\n\n                    if (err == \'Error: Request overridden by newer request.\') {\n                        this.showError = false;\n                    } else {\n                        //show error icon\n                        this.showError = true;\n\n                        console && console.log && console.log(\'Error when accessing paged data:\', msg, err);\n                    }\n                })\n                .then(() => {\n                    if (this.csvExportable) {\n                        this.$nextTick(() => this.generateCsvData());\n                    }\n                });\n        },\n        fieldName(columnName) {\n            return this.columns[columnName];\n        },\n        isSortable(field)\n        {\n            if (this.sortable instanceof Array) {\n                return _.includes(this.sortable, field);\n            } else if (this.sortable) {\n                return true;\n            } else {\n                return false;\n            }\n        },\n        setSort(field) {\n            if (this.sortField === field) {\n                this.sortOrder = this.sortOrder === \'D\' ? \'A\' : \'D\';\n                return;\n            } else if (this.defaultSortOrders && this.defaultSortOrders[field]) {\n                this.sortOrder = this.defaultSortOrders[field];\n            } else {\n                this.sortOrder = \'A\';\n            }\n\n            this.sortField = field;\n        },\n        sortClass(field) {\n            if (field === this.sortField) {\n                return this.sortOrder === \'D\' ? \'fa-sort-amount-desc active-sort pull-right\' : \'fa-sort-amount-asc active-sort pull-right\';\n            }\n            return \'fa-arrows-v text-muted pull-right\';\n        },\n        /**\n         * Return item.field or, if field is a dot-delimited field,\n         * follow the chain of references to the last value.\n         */\n        valueFor(item, field) {\n            var obj = item;\n            var chain = field.split(/\\./);\n            while (obj && chain.length > 0) {\n                obj = obj[chain.shift()];\n            }\n            if (chain.length > 0) {\n                return undefined;\n            } else {\n                return obj;\n            }\n        },\n        getCookies(field) {\n            if (!this.name || !field || Cookies.get(this.name) === undefined) {\n                return null;\n            }\n\n            return JSON.parse(Cookies.get(this.name))[field];\n        },\n        setCookies(field, value) {\n            if (!this.name || !field) {\n                return false;\n            }\n\n            var cookie = Cookies.get(this.name);\n\n            if (cookie) {\n                cookie = JSON.parse(cookie);\n            } else {\n                cookie = {};\n            }\n\n            cookie[field] = value;\n            if (Cookies.set(this.name, cookie)) {\n                return true;\n            }\n\n            return false;\n        },\n        applyQueryParams() {\n            if (this.queryParamSaver) {\n                var params = this.queryParamSaver.get();\n                if (params) {\n                    if (typeof params.sort_field != \'undefined\') {\n                        this.sortField = params.sort_field;\n                    }\n                    if (typeof params.sort_order != \'undefined\') {\n                        this.sortOrder = params.sort_order;\n                    }\n                    if (typeof params.search != \'undefined\') {\n                        this.search = params.search\n                    }\n                    if (typeof params.page != \'undefined\') {\n                        this.page = params.page;\n                    }\n                    if (typeof params.page_length != \'undefined\') {\n                        this.pageLengthSelection = params.page_length;\n                    }\n                    this.$emit(\'load-endpoint-params\', params);\n                }\n            }\n        },\n        keyFor(item) {\n            if (this.keyField) {\n                return item[this.keyField];\n            }\n            if (item.id) {\n                return item.id;\n            }\n            return this.generateKeyFor(item);\n        },\n        generateKeyFor(item) {\n            var found = null;\n            _.each(this.generatedItemKeys, (saved_item, key) => {\n                if (item === saved_item) {\n                    found = key;\n                }\n            });\n            if (!found) {\n                // make a random key\n                found = new Date().valueOf() + \'_\' + new String(Math.random()).substr(2);\n                this.generatedItemKeys[found] = item;\n            }\n            return found;\n        },\n        generateCsvData() {\n            // This method depends on this.$refs, so it cannot be a computed property\n            this.csvData = this.pagedItems.map((item) => {\n                var id = this.keyFor(item);\n                var textItem = {};\n                _.each(this.activeFields, (field) => {\n                    if (this.$refs[\'cell.\' + id + \'.\' + field] && this.$refs[\'cell.\' + id + \'.\' + field][0]) {\n                        textItem[this.columns[field]] = this.$refs[\'cell.\' + id + \'.\' + field][0].textContent.trim();\n                    } else {\n                        textItem[this.columns[field]] = null;    \n                    }\n                });\n                return textItem;\n            });\n        },\n        resetActiveFields() {\n            this.activeFields = this.defaultActiveFields || Object.keys(this.columns);\n        },\n        storeActiveFieldsToCookies() {\n            var fields = {\n                on: [],\n                off: [],\n            };\n            for (var field in this.columns) {\n                if (_.includes(this.activeFields, field)) {\n                    fields.on.push(field);\n                } else {\n                    fields.off.push(field);\n                }\n            }\n\n            this.setCookies(\'fields\', fields);\n        },\n        getActiveFieldsFromCookies() {\n            var fields = this.getCookies(\'fields\');\n            var defaultOn = this.defaultActiveFields || Object.keys(this.columns);\n            return Object.keys(this.columns).filter(field => {\n                var fieldIsSelected = _.includes(fields.on, field);\n                var fieldIsDeselected = _.includes(fields.off, field);\n                var fieldDefaultsToOn = _.includes(defaultOn, field);\n                return fieldIsSelected || (fieldDefaultsToOn && !fieldIsDeselected);\n            });\n        },\n    },\n}\n<\/script>\n\n<style>\n    .nova-table div.form-group.pull-left.margin-left {\n        margin-left: .5em;\n    }\n\n    .table-loader{\n        opacity: .6;\n        position: absolute;\n        width: 100%;\n        height: 920px;\n        padding-top: 100px;\n        z-index: 1;\n    }\n\n    .pagination{\n        margin: 0 0 20px 0;\n    }\n\n    td.td-scheduled_or_posted_at-styles {\n        width: 115px;\n    }\n\n    .sortable {\n        white-space: nowrap;\n    }\n\n    .sortable i {\n        margin-top: 3px;\n    }\n</style>\n'],sourceRoot:""}])},function(e,t,n){var s=n(21);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,n(19).default)("4241cdd4",s,!1,{})},function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s);for(var i in s)"default"!==i&&function(e){n.d(t,e,function(){return s[e]})}(i);var a=n(4),o=n(2),l=!1;var u=function(e){l||n(22)},c=Object(o.a)(r.a,a.a,a.b,!1,u,null,null);c.options.__file="src/NovaTable.vue",t.default=c.exports},function(e,t,n){e.exports=n(23)}]);
//# sourceMappingURL=NovaTable.js.map